<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html"
      data-th-replace="~{layouts/layout :: layout-encheres(
					titrePage=~{:: title},
					contenuPage=~{:: main},
					ressourcesSupp=~{:: #resources-css})}">

<head>
    <!-- Accueil comme titre de page -->
    <title data-th-text="#{index.title}"></title>
    <th:block id="resources-css">
        <link rel="stylesheet" data-th-href="@{/css/login.css}"/>
    </th:block>
</head>
<body>
<main class="center-main">
    <form action="/encherir" method="post">
        <div th:if="${utlisateurGagnant}" >
            <span>Bravo</span>
            <h1 th:text="*{utlisateurGagnant.prenom}"></h1>
        </div>

    <p type="text" id="nom_article" name="nom_article" th:text="*{articleVendu.getNomArticle()}" ></p><br>

    <label for="description">Description:</label>
    <p id="description" name="description" rows="4" cols="50" required th:text="*{articleVendu.getDescription()}"></p><br>

    <label for="categorie">Categorie:</label>
    <p type="text" name="categorie" id="categorie" th:text="*{articleVendu.getCategorie().libelle}"></p><br>

    <label for="prix_initial">Mise à prix :</label>
    <p id="prix_initial" name="prix_initial" th:text="*{articleVendu.getPrixInitial()}"></p><br>

    <label for="actuelMeilleurPrix">Actuel meilleur prix :</label>
    <p id="actuelMeilleurPrix" name="actuelMeilleurPrix" th:text="*{articleVendu.getActuelMeilleurPrix()}"></p><br>

    <label for="date_fin_encheres">Date de fin des enchères:</label>
    <p type="date" id="date_fin_encheres" name="date_fin_encheres" required  th:text="*{articleVendu.getDateFinEncheres()}"></p><br>
    <h4>Informations de retrait</h4>
    <p type="text" id="rue" name="rue" required th:text="${articleVendu.getUtilisateur().getRue()} "></p>
    <p type="text" id="code_postal" th:text="${articleVendu.getUtilisateur().getCodePostal()} + ' ' + ${articleVendu.getUtilisateur().getVille()}"></p><br>
        <span>Vendeur</span>
        <p id="vendeur" name="prix_initial" th:text="*{articleVendu.getUtilisateur().getPseudo()}"></p><br>
        <span>Mes crédits</span>
        <p  id="monSolde" name="monSolde" th:text="*{utilisteur.credit}" /></p>
        <div th:if="${utlisateurGagnant} == null" >
            <input hidden id="articleVendu" name="articleVendu" th:field="*{articleVendu.noArticle}" />
            <input hidden id="utilisteur" name="utilisteur" th:field="*{utilisteur.noUtilisateur}" />
            <input id="ticketNum" type="number" name="montantEnchere" th:value="*{articleVendu.actuelMeilleurPrix}"/>
            <div th:if="${message}" >
                <p th:text="${message}"></p>
            </div>
            <input type="submit" value="submit" />
        </div>

    </form>
</main>
</body>
</html>